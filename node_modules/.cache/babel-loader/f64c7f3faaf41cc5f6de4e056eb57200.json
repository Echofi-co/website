{"ast":null,"code":"import _slicedToArray from\"/Users/liz/dev/dub-website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Draggable from'react-draggable';import Piggy from'../../assets/piggy.png';import DubCoin from'../../assets/dub_coin.png';import QrCode from'../../assets/qrcode.png';import{coinContainerStyle,dubCoinStyle,gradientBoxStyle,messageContainerStyle,messageStyle,piggyContainerStyle,piggyStyle,qrCodeContainerStyle,qrCodeStyle}from'./piggySlideTrackStyles';import{useEffect,useState}from'react';import{cx}from'@emotion/css';import{ReactComponent as Chevron}from'../../assets/chevron.svg';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PiggySlideTrack=function PiggySlideTrack(){var _document$getElementB;var _window=window,height=_window.innerHeight;var _useState=useState({x:0,y:0}),_useState2=_slicedToArray(_useState,2),coinPosition=_useState2[0],setCoinPosition=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),didCoinEnter=_useState4[0],setDidCointEnter=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isDragging=_useState6[0],setIsDragging=_useState6[1];var _useState7=useState(height-100),_useState8=_slicedToArray(_useState7,2),coinEnterPosition=_useState8[0],setCoinEnterPosition=_useState8[1];var piggyPosition=(_document$getElementB=document.getElementById('piggy'))===null||_document$getElementB===void 0?void 0:_document$getElementB.getBoundingClientRect();useEffect(function(){if(piggyPosition){setCoinEnterPosition(piggyPosition.top-piggyPosition.height/2+20);}});var handleDrag=function handleDrag(e,ui){var x=coinPosition.x,y=coinPosition.y;setCoinPosition({x:x+ui.deltaX,y:y+ui.deltaY});setIsDragging(true);};var onStop=function onStop(){if(coinPosition.y>coinEnterPosition){setDidCointEnter(true);}setCoinPosition({x:0,y:0});setIsDragging(false);};var onPiggyClick=function onPiggyClick(){setDidCointEnter(false);};var onQrClick=function onQrClick(){window.open('https://urlgeni.us/applemusic/dubapp','_blank');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:messageContainerStyle,children:[/*#__PURE__*/_jsx(\"div\",{className:messageStyle,children:\"Slide down for a dub\"}),/*#__PURE__*/_jsx(Chevron,{})]}),/*#__PURE__*/_jsx(\"div\",{className:gradientBoxStyle(coinPosition.y,didCoinEnter)}),/*#__PURE__*/_jsxs(\"div\",{className:qrCodeContainerStyle(didCoinEnter),onClick:onQrClick,children:[/*#__PURE__*/_jsx(\"img\",{src:QrCode,className:qrCodeStyle}),/*#__PURE__*/_jsx(\"div\",{className:messageStyle,children:\"Scan or click me\"})]}),/*#__PURE__*/_jsx(\"div\",{className:piggyContainerStyle,children:/*#__PURE__*/_jsx(\"img\",{id:\"piggy\",src:Piggy,className:piggyStyle(isDragging),draggable:\"false\",onClick:onPiggyClick})}),/*#__PURE__*/_jsx(Draggable,{axis:\"y\",position:{x:0,y:coinPosition.y},onStop:onStop,onDrag:handleDrag,defaultClassName:coinContainerStyle(didCoinEnter),children:/*#__PURE__*/_jsx(\"img\",{draggable:\"false\",className:cx(dubCoinStyle(didCoinEnter),'handle'),src:DubCoin})})]});};","map":{"version":3,"sources":["/Users/liz/dev/dub-website/src/components/piggySlideTrack/piggySlideTrack.tsx"],"names":["Draggable","Piggy","DubCoin","QrCode","coinContainerStyle","dubCoinStyle","gradientBoxStyle","messageContainerStyle","messageStyle","piggyContainerStyle","piggyStyle","qrCodeContainerStyle","qrCodeStyle","useEffect","useState","cx","ReactComponent","Chevron","PiggySlideTrack","window","height","innerHeight","x","y","coinPosition","setCoinPosition","didCoinEnter","setDidCointEnter","isDragging","setIsDragging","coinEnterPosition","setCoinEnterPosition","piggyPosition","document","getElementById","getBoundingClientRect","top","handleDrag","e","ui","deltaX","deltaY","onStop","onPiggyClick","onQrClick","open"],"mappings":"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","sourcesContent":["import Draggable from 'react-draggable';\nimport Piggy from '../../assets/piggy.png';\nimport DubCoin from '../../assets/dub_coin.png';\nimport QrCode from '../../assets/qrcode.png';\nimport { \n  coinContainerStyle,\n  dubCoinStyle, \n  gradientBoxStyle, \n  messageContainerStyle, \n  messageStyle, \n  piggyContainerStyle, \n  piggyStyle,\n  qrCodeContainerStyle,\n  qrCodeStyle, \n} from './piggySlideTrackStyles';\nimport { useEffect, useState } from 'react';\nimport { cx } from '@emotion/css';\nimport { ReactComponent as Chevron } from '../../assets/chevron.svg';\n\nexport interface Position {\n  x: number;\n  y: number;\n}\n\nexport const PiggySlideTrack = () => {\n  const { innerHeight: height } = window;\n\n  const [coinPosition, setCoinPosition] = useState<Position>({ x: 0, y: 0 });\n  const [didCoinEnter, setDidCointEnter] = useState<boolean>(false);\n  const [isDragging, setIsDragging] = useState<boolean>(false);\n  const [coinEnterPosition, setCoinEnterPosition] = useState<number>(height - 100);\n\n  const piggyPosition = document.getElementById('piggy')?.getBoundingClientRect();\n\n  useEffect(() => {\n    if (piggyPosition) {\n      setCoinEnterPosition(piggyPosition.top - piggyPosition.height / 2 + 20)\n    }\n  });\n\n  const handleDrag = (e: any, ui: { deltaX: number; deltaY: number; }) => {\n    const { x, y } = coinPosition;\n    setCoinPosition({\n      x: x + ui.deltaX,\n      y: y + ui.deltaY,\n    });\n    setIsDragging(true);\n  };\n\n  const onStop = () => {\n    if (coinPosition.y > coinEnterPosition) {\n      setDidCointEnter(true);\n    }\n    setCoinPosition({ x: 0, y: 0 });\n    setIsDragging(false);\n  };\n\n  const onPiggyClick = () => {\n    setDidCointEnter(false);\n  };\n\n  const onQrClick = () => {\n    window.open('https://urlgeni.us/applemusic/dubapp', '_blank');\n  };\n\n  return (\n    <div>\n      \n      <div className={messageContainerStyle}>\n        <div className={messageStyle}>Slide down for a dub</div>\n        <Chevron />\n      </div>\n      <div className={gradientBoxStyle(coinPosition.y, didCoinEnter)} />\n      <div className={qrCodeContainerStyle(didCoinEnter)} onClick={onQrClick}>\n        <img src={QrCode} className={qrCodeStyle} />\n        <div className={messageStyle}>Scan or click me</div>\n      </div>\n      <div className={piggyContainerStyle}>\n        <img id=\"piggy\" src={Piggy} className={piggyStyle(isDragging)} draggable=\"false\" onClick={onPiggyClick} />\n      </div>\n      <Draggable \n        axis=\"y\" \n        position={{x: 0, y: coinPosition.y}} \n        onStop={onStop}\n        onDrag={handleDrag}\n        defaultClassName={coinContainerStyle(didCoinEnter)}\n      >\n        <img \n          draggable=\"false\" \n          className={cx(dubCoinStyle(didCoinEnter), 'handle')} \n          src={DubCoin} \n        />\n      </Draggable>\n      \n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}
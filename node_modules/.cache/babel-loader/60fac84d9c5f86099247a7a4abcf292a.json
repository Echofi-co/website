{"ast":null,"code":"var _jsxFileName = \"/Users/liz/dev/dub-website/src/components/piggySlideTrack/piggySlideTrack.tsx\",\n    _s = $RefreshSig$();\n\nimport Draggable from 'react-draggable';\nimport Piggy from '../../assets/piggy.png';\nimport DubCoin from '../../assets/dub_coin.png';\nimport GiftBox from '../../assets/gift_box.png';\nimport QrCode from '../../assets/qr_code.png';\nimport { coinContainerStyle, dubCoinStyle, gradientBoxStyle, messageContainerStyle, messageStyle, piggyContainerStyle, piggyStyle, qrCodeContainerStyle, qrCodeStyle } from './piggySlideTrackStyles';\nimport { useEffect, useState } from 'react';\nimport { cx } from '@emotion/css';\nimport { ReactComponent as Chevron } from '../../assets/chevron.svg';\nimport { useWindowSize } from '@react-hook/window-size';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PiggySlideTrack = () => {\n  _s();\n\n  var _document$getElementB;\n\n  // const { innerHeight: height, innerWidth: width } = window;\n  const [width, height] = useWindowSize();\n  const [coinPosition, setCoinPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [didCoinEnter, setDidCointEnter] = useState(false);\n  const [isDragging, setIsDragging] = useState(false);\n  const [coinEnterPosition, setCoinEnterPosition] = useState(height - 100);\n  const [isMobile, setIsMobile] = useState(false);\n  const piggyPosition = (_document$getElementB = document.getElementById('piggy')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.getBoundingClientRect();\n  useEffect(() => {\n    if (piggyPosition) {\n      setCoinEnterPosition(piggyPosition.top - piggyPosition.height / 2 - 100);\n    }\n  }, [piggyPosition]);\n  useEffect(() => {\n    console.log('height', height, 'width', width);\n\n    if (height < 800 && width < 500) {\n      setIsMobile(true);\n    } else {\n      setIsMobile(false);\n    }\n  }, [height, width]);\n\n  const handleDrag = (e, ui) => {\n    const {\n      x,\n      y\n    } = coinPosition;\n    setCoinPosition({\n      x: x + ui.deltaX,\n      y: y + ui.deltaY\n    });\n    setIsDragging(true);\n  };\n\n  const onStop = () => {\n    if (coinPosition.y > coinEnterPosition) {\n      setDidCointEnter(true);\n    }\n\n    setCoinPosition({\n      x: 0,\n      y: 0\n    });\n    setIsDragging(false);\n  };\n\n  const onPiggyClick = () => {\n    setDidCointEnter(false);\n  };\n\n  const onQrClick = () => {\n    window.open('https://qrcodes.pro/jHtqzf', '_blank');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: messageContainerStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: messageStyle,\n        children: \"Slide the coin down for a dub\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Chevron, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: gradientBoxStyle(coinPosition.y, didCoinEnter)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: qrCodeContainerStyle(didCoinEnter),\n      onClick: onQrClick,\n      children: [isMobile ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: GiftBox,\n        className: qrCodeStyle,\n        alt: \"qrcode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: QrCode,\n        className: qrCodeStyle,\n        alt: \"qrcode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 82\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: messageStyle,\n        children: \"Click me\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: piggyContainerStyle,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        id: \"piggy\",\n        src: Piggy,\n        className: piggyStyle(isDragging),\n        draggable: \"false\",\n        onClick: onPiggyClick,\n        alt: \"piggy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Draggable, {\n      axis: \"y\",\n      position: {\n        x: 0,\n        y: coinPosition.y\n      },\n      onStop: onStop,\n      onDrag: handleDrag,\n      defaultClassName: coinContainerStyle(didCoinEnter),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        draggable: \"false\",\n        className: cx(dubCoinStyle(didCoinEnter), 'handle'),\n        src: DubCoin,\n        alt: \"coin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PiggySlideTrack, \"i0DvR/YYshTHK1IL23AEe7otJj8=\", false, function () {\n  return [useWindowSize];\n});\n\n_c = PiggySlideTrack;\n\nvar _c;\n\n$RefreshReg$(_c, \"PiggySlideTrack\");","map":{"version":3,"sources":["/Users/liz/dev/dub-website/src/components/piggySlideTrack/piggySlideTrack.tsx"],"names":["Draggable","Piggy","DubCoin","GiftBox","QrCode","coinContainerStyle","dubCoinStyle","gradientBoxStyle","messageContainerStyle","messageStyle","piggyContainerStyle","piggyStyle","qrCodeContainerStyle","qrCodeStyle","useEffect","useState","cx","ReactComponent","Chevron","useWindowSize","PiggySlideTrack","width","height","coinPosition","setCoinPosition","x","y","didCoinEnter","setDidCointEnter","isDragging","setIsDragging","coinEnterPosition","setCoinEnterPosition","isMobile","setIsMobile","piggyPosition","document","getElementById","getBoundingClientRect","top","console","log","handleDrag","e","ui","deltaX","deltaY","onStop","onPiggyClick","onQrClick","window","open"],"mappings":"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","sourcesContent":["import Draggable from 'react-draggable';\nimport Piggy from '../../assets/piggy.png';\nimport DubCoin from '../../assets/dub_coin.png';\nimport GiftBox from '../../assets/gift_box.png';\nimport QrCode from '../../assets/qr_code.png';\nimport { \n  coinContainerStyle,\n  dubCoinStyle, \n  gradientBoxStyle, \n  messageContainerStyle, \n  messageStyle, \n  piggyContainerStyle, \n  piggyStyle,\n  qrCodeContainerStyle,\n  qrCodeStyle, \n} from './piggySlideTrackStyles';\nimport { useEffect, useState } from 'react';\nimport { cx } from '@emotion/css';\nimport { ReactComponent as Chevron } from '../../assets/chevron.svg';\nimport { useWindowSize } from '@react-hook/window-size';\n\nexport interface Position {\n  x: number;\n  y: number;\n}\n\nexport const PiggySlideTrack = () => {\n  // const { innerHeight: height, innerWidth: width } = window;\n  const [width, height] = useWindowSize();\n\n  const [coinPosition, setCoinPosition] = useState<Position>({ x: 0, y: 0 });\n  const [didCoinEnter, setDidCointEnter] = useState<boolean>(false);\n  const [isDragging, setIsDragging] = useState<boolean>(false);\n  const [coinEnterPosition, setCoinEnterPosition] = useState<number>(height - 100);\n  const [isMobile, setIsMobile] = useState<boolean>(false);\n\n  const piggyPosition = document.getElementById('piggy')?.getBoundingClientRect();\n  \n  useEffect(() => {\n    if (piggyPosition) {\n      setCoinEnterPosition(piggyPosition.top - piggyPosition.height / 2 - 100)\n    }\n  }, [piggyPosition]);\n\n  useEffect(() => {\n    console.log('height', height, 'width', width);\n    if (height < 800 && width < 500) {\n      setIsMobile(true);\n    } else {\n      setIsMobile(false);\n    }\n  }, [height, width])\n\n  const handleDrag = (e: any, ui: { deltaX: number; deltaY: number; }) => {\n    const { x, y } = coinPosition;\n    setCoinPosition({\n      x: x + ui.deltaX,\n      y: y + ui.deltaY,\n    });\n    setIsDragging(true);\n  };\n\n  const onStop = () => {\n    if (coinPosition.y > coinEnterPosition) {\n      setDidCointEnter(true);\n    }\n    setCoinPosition({ x: 0, y: 0 });\n    setIsDragging(false);\n  };\n\n  const onPiggyClick = () => {\n    setDidCointEnter(false);\n  };\n\n  const onQrClick = () => {\n    window.open('https://qrcodes.pro/jHtqzf', '_blank');\n  };\n\n  return (\n    <div>\n      \n      <div className={messageContainerStyle}>\n        <div className={messageStyle}>Slide the coin down for a dub</div>\n        <Chevron />\n      </div>\n      <div className={gradientBoxStyle(coinPosition.y, didCoinEnter)} />\n      <div className={qrCodeContainerStyle(didCoinEnter)} onClick={onQrClick}>\n        {isMobile ? <img src={GiftBox} className={qrCodeStyle} alt=\"qrcode\" /> : <img src={QrCode} className={qrCodeStyle} alt=\"qrcode\" />}\n        <div className={messageStyle}>Click me</div>\n      </div>\n      <div className={piggyContainerStyle}>\n        <img id=\"piggy\" src={Piggy} className={piggyStyle(isDragging)} draggable=\"false\" onClick={onPiggyClick} alt=\"piggy\" />\n      </div>\n      <Draggable \n        axis=\"y\" \n        position={{x: 0, y: coinPosition.y}} \n        onStop={onStop}\n        onDrag={handleDrag}\n        defaultClassName={coinContainerStyle(didCoinEnter)}\n      >\n        <img \n          draggable=\"false\" \n          className={cx(dubCoinStyle(didCoinEnter), 'handle')} \n          src={DubCoin} \n          alt=\"coin\" \n        />\n      </Draggable>\n      \n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}